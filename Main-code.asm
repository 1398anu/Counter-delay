ORG 0000H
SETB P3.5
CLR P1.2
MOV P2,#0
MOV TMOD,#01100001B
MOV TH1,#0
CLR A
SETB TR1
INC A
HERE: MOV A,TL1
MOV P2,A
CPL P3.5
MOV R7,#255
ACALL DELAY
CJNE A,#0AH,HERE
CLR TF1
CLR TR1
AGAIN: MOV TH0,#0FEH
MOV TL0,#32H
SETB TR0
CPL P1.2
LOOP: JNB TF0,LOOP
CLR TR0
CLR TF0
SJMP AGAIN
DELAY: DJNZ R7,DELAY
RET
END
